<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <% content_for :title, "Today's Habits" %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Today's Habits</h1>
    <%= link_to "New habit", new_habit_path, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
  </div>

  <div class="mt-3 border-b border-t border-gray-200 divide-y divide-gray-200">
    <% @tasks.each do |task| %>
      <%= form_with model: task, url: task_checkbox_path(task), class: "relative flex gap-3 pb-4 pt-3.5" do |form| %>
        <div class="min-w-0 flex-1 text-sm/6">
          <p id="task-<%= task.id %>-name" class="text-gray-500 <%= "line-through" if task.completed_at? %>"><%= task.name %></p>
        </div>
        <div class="flex h-6 shrink-0 items-center">
          <div class="group grid size-4 grid-cols-1">
            <%= form.check_box :completed_at, { checked: task.completed_at?, onchange: "this.form.submit();", id: "task-#{task.id}>", class: "col-start-1 row-start-1 appearance-none rounded border border-gray-300 bg-white checked:border-indigo-600 checked:bg-indigo-600 indeterminate:border-indigo-600 indeterminate:bg-indigo-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:border-gray-300 disabled:bg-gray-100 disabled:checked:bg-gray-100 forced-colors:appearance-auto" } %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
